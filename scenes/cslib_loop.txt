*bug "cslib_loop is a cslib module and must not be accessed directly"

*label acc_str
*params target_scene target_label count
*temp acc ""
*if (param_count > 3)
	*comment default acc value
	*set acc param_4
*gosub _acc_common target_scene target_label count
*return


*label acc_num
*params target_scene target_label count
*temp acc 0
*if (param_count > 3)
	*comment default acc value
	*set acc param_4
*gosub _acc_common target_scene target_label count
*return


*label _acc_common
*params target_scene target_label count
*temp n 1
*label _acc_common_loop
*if (n <= count)
	*gosub_scene {target_scene} {target_label} n acc count
	*set acc cslib_ret
	*set n + 1
	*goto _acc_common_loop
*set cslib_ret acc
*return


*label repeat
*params target_scene target_label count
*if (param_count < 3)
	*bug cslib.loop.repeat: expected three parameters (target_scene, target_label, count)
*temp n 1
*label _repeat_loop
*if (n <= count)
	*gosub_scene {target_scene} {target_label} n
	*set n + 1
	*goto _repeat_loop
*return